<html>
<head>
	<link rel=stylesheet type=text/css href="{{url_for('static',
											           filename='Cuisines.css')}}">
</head>
<body> 
	<h1 class='header'>
		List of All Cuisines
	</h1>

	<div class='homeLinks'>
		<a href="{{url_for('restaurants')}}">restaurants</a>
		<a href="{{url_for('restaurantManagerIndex')}}">home</a>
		<a href="{{url_for('cuisines')}}">cuisines</a>
	</div>

	<p>
		<a class='backLink' href="{{url_for('restaurantManagerIndex')}}">
			Back to start
		</a>
	</p>

	<div class='flash'>
	{% with messages = get_flashed_messages() %}
		{% if messages %}
			<ul>
				{% for message in messages %}
					<li><strong>{{message}}</strong></li>
				{% endfor %}
			</ul>
		{% endif %}
	{% endwith %}
	</div>

	<div class='list'>
	<p>
		Click a cuisine to view, edit, or delete it, or 
		<a class='actionLink' href="{{url_for('addCuisine')}}"> 
			click here to create a new cuisine
		</a>
	</p>
	<ul>
	{% for c in cuisines %}
	{% if c.id != -1: %}
		<li>
			<a class='forwardLink' href="{{url_for('cuisine',
							 	cuisine_id=c.id)}}">
				{{c.name}} (ID {{c.id}})
			</a>
		</li>
	{% endif %}
	{% endfor %}
	</ul>
	</div>
<script>
// hide/show according to whether logged in.  need to do it with JS because setting the display='none' property in the HTML with passed variable from Python does not work because it is overridden by a "display='in-line'" property given by ???
if ({{intBooleanLoggedIn}}==1) { 

	hide = document.getElementsByClassName("hideLoggedIn");
}
else {

	hide = document.getElementsByClassName("hideLoggedOut");
}

for (i = 0; i < hide.length; i++) {
	hide[i].style.display = "none";
}
</script>

<script>
function signOut() {

	var xhttp = new XMLHttpRequest();

	xhttp.onreadystatechange = function() {
    	if (xhttp.readyState == 4 && xhttp.status == 200) {
    		console.log(xhttp.readyState);
    		console.log(xhttp.status);
     		window.alert(xhttp.responseText);
     		location.reload();
    	}
    }

    xhttp.open("POST", "/disconnect", true);
	xhttp.send();
};
</script>
</body>
</html>