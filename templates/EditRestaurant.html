<html>
<head>
	<link rel=stylesheet type=text/css href="{{url_for('static',
											           filename='Restaurants.css')}}">
</head>
<body>
	<h1 class='header'>
		Edit '{{restaurant.name}}'
	</h1>

	<div class='homeLinks'>
		<a href="{{url_for('restaurants')}}">restaurants</a>
		<a href="{{url_for('restaurantManagerIndex')}}">home</a>
		<a href="{{url_for('cuisines')}}">cuisines</a>
	</div>
	
	<div class='actionText'>
		<p>
			Edit restaurant '{{restaurant.name}}' (ID {{restaurant.id}})
		</p>

	</div> 
		<a class='backLink' href="{{url_for('restaurant',restaurant_id=restaurant.id)}}">
			Cancel</a>
	</p>

	<form class='form' action="{{url_for('editRestaurant', 
							restaurant_id=restaurant.id)}}"
		method='post' enctype=multipart/form-data>

		<h3 class='header'>
			Restaurant Attributes to Edit
		</h3>

		<p>
			Imporant notes:
			<ul>
				<li>
					Leave a box blank or select the appropriate dropdown option if you do not wish to change a particular value.
				</li>
				<li>
					If you change the restaurant's cuisine, the menu and menu items will stay exactly the same.
				</li>
				<li>
					The cuisines listed in the dropdown are cuisines currently in use.  If you wish to change to a new cuisine, you must first create that custom cuisine <a class='actionLink' href="{{url_for('addCuisine')}}">here</a>.
				</li>
			</ul>
		</p>

		<p>Change Restaurant Cuisine to:</p>
		<select name="cuisineID">
		  <option value="noNewCuisine">Do not change cuisine</option>
  		{% for cuisine in cuisines %}
  			<option value="{{cuisine.id}}">{{cuisine.name}}</option>
  		{% endfor %}
		</select>

		<p>Change Restaurant Name to:</p>
		<input type='text' size='60' name='name' 
			placeholder='{{restaurant.name}}'>

		<p>
			Current Picture:
		</p>
		<div class='photo'>
			<img id='photo' src="{{picture.text}}" alt='[picture of {{restaurant.name}}]' max-width=100%>
		</div>

		<p>Change Restaurant Picture to (uploaded pics must be .jpg, .jpeg, or .png):</p>
		<input type='file' name='pictureFile' accept='image/*'>
		<div id='photoOr'>or provide link:</div>
		<input id='pictureLinkText' type='text' size='60' name='pictureLink'
			placeholder='{{picture.text}}'>

		<input type='hidden' name='hiddenToken' value='{{hiddenToken}}'>

		</br>
		</br>
		</br>
		<input type='submit' value='Submit Changes'>

	</form>
  	<script>
  	// if appropriate, changes src of #photo from link to served file
    if ('{{picture.serve_type}}' === 'upload') {

		document.getElementById("photo").setAttribute("src", "{{url_for('uploaded_picture', filename=picture.text)}}");
		document.getElementById("pictureLinkText").setAttribute("placeholder", "Link to picture");
    }
	</script>
</body>
</html>